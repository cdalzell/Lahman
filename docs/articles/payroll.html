<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Team Payroll and the World Series • Lahman</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Team Payroll and the World Series">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Lahman</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">12.0-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/hits-by-type.html">Graphs of Hits By Type in MLB</a></li>
    <li><a class="dropdown-item" href="../articles/payroll.html">Team Payroll and the World Series</a></li>
    <li><a class="dropdown-item" href="../articles/run-scoring-trends.html">Run Scoring Trends</a></li>
    <li><a class="dropdown-item" href="../articles/strikeoutsandhr.html">Relationship Between Strikeouts and Home Runs</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-intro.html">Vignette Introduction</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cdalzell/Lahman/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Team Payroll and the World Series</h1>
                        <h4 data-toc-skip class="author">Michael
Friendly</h4>
            
            <h4 data-toc-skip class="date">2024-11-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cdalzell/Lahman/blob/HEAD/vignettes/payroll.Rmd" class="external-link"><code>vignettes/payroll.Rmd</code></a></small>
      <div class="d-none name"><code>payroll.Rmd</code></div>
    </div>

    
    
<p>This vignette examines whether there is a relationship between total
team salaries (payroll) and World Series success. It was inspired by
Nolan &amp; Lang (2015), “Baseball: Exploring Data in a Relational
Database”, Chapter 10 in <a href="https://www.routledge.com/Data-Science-in-R-A-Case-Studies-Approach-to-Computational-Reasoning-and-Problem-Solving/Nolan-Lang/p/book/9781482234817" class="external-link"><em>Data
Science in R</em></a>. They use <code>SQL</code> on the raw Lahman files
<code>.csv</code>, rather than the Lahman package.</p>
<p>Here, We largely use <code>dplyr</code> for data munging and
<code>ggplot2</code> for plotting. In the process, we discover a few
errors in the data sets.</p>
<div class="section level2">
<h2 id="the-data-files">The data files<a class="anchor" aria-label="anchor" href="#the-data-files"></a>
</h2>
<p>Start with loading the files we will use here. We do some
pre-processing to make them more convenient for the analyses done
later.</p>
<div class="section level3">
<h3 id="the-salaries-data">The <code>Salaries</code> data<a class="anchor" aria-label="anchor" href="#the-salaries-data"></a>
</h3>
<p>The <code>Salaries</code> data.frame contains data on all players’
salaries from 1985-2016 in the latest release, v. 12.0.0, of the
<code>Lahman</code> package. (Additions to the <code>Salaries</code>
table in San Lahman’s database were discontinued after 2016.) We use the
<code>sample_n</code> function to display a random sample of
observations.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Salaries"</span>, package<span class="op">=</span><span class="st">"Lahman"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    26428 obs. of  5 variables:</span></span>
<span><span class="co">##  $ yearID  : int  1985 1985 1985 1985 1985 1985 1985 1985 1985 1985 ...</span></span>
<span><span class="co">##  $ teamID  : Factor w/ 35 levels "ANA","ARI","ATL",..: 3 3 3 3 3 3 3 3 3 3 ...</span></span>
<span><span class="co">##  $ lgID    : Factor w/ 2 levels "AL","NL": 2 2 2 2 2 2 2 2 2 2 ...</span></span>
<span><span class="co">##  $ playerID: chr  "barkele01" "bedrost01" "benedbr01" "campri01" ...</span></span>
<span><span class="co">##  $ salary  : int  870000 550000 545000 633333 625000 800000 150000 483333 772000 250000 ...</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="va">Salaries</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">##    yearID teamID lgID  playerID   salary</span></span>
<span><span class="co">## 1    1995    BAL   AL benitar01   125000</span></span>
<span><span class="co">## 2    1995    NYA   AL fernato01  1633335</span></span>
<span><span class="co">## 3    1994    PHI   NL chambwe01   350000</span></span>
<span><span class="co">## 4    1995    OAK   AL aldremi01   430000</span></span>
<span><span class="co">## 5    2013    NYN   NL wrighda03 10192071</span></span>
<span><span class="co">## 6    1996    SEA   AL strando01   380000</span></span>
<span><span class="co">## 7    1986    BOS   AL hoffmgl01   350000</span></span>
<span><span class="co">## 8    2003    MIL   NL sexsori01  5125000</span></span>
<span><span class="co">## 9    1998    NYA   AL seabosc01   170000</span></span>
<span><span class="co">## 10   1986    ML4   AL higuete01   195000</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-teams-data">The <code>Teams</code> data<a class="anchor" aria-label="anchor" href="#the-teams-data"></a>
</h3>
<p>The <code>Teams</code> data.frame contains a lot of information about
all teams that have ever played, with a separate observation for each
year. Here, we will mainly use this to get the team name
(<code>team</code>) from <code>teamID</code> and also to get the
information about World Series winners.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Teams"</span>, package<span class="op">=</span><span class="st">"Lahman"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">Teams</span><span class="op">)</span></span>
<span><span class="co">## [1] 3045   48</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">Teams</span><span class="op">)</span></span>
<span><span class="co">##  [1] "yearID"         "lgID"           "teamID"         "franchID"      </span></span>
<span><span class="co">##  [5] "divID"          "Rank"           "G"              "Ghome"         </span></span>
<span><span class="co">##  [9] "W"              "L"              "DivWin"         "WCWin"         </span></span>
<span><span class="co">## [13] "LgWin"          "WSWin"          "R"              "AB"            </span></span>
<span><span class="co">## [17] "H"              "X2B"            "X3B"            "HR"            </span></span>
<span><span class="co">## [21] "BB"             "SO"             "SB"             "CS"            </span></span>
<span><span class="co">## [25] "HBP"            "SF"             "RA"             "ER"            </span></span>
<span><span class="co">## [29] "ERA"            "CG"             "SHO"            "SV"            </span></span>
<span><span class="co">## [33] "IPouts"         "HA"             "HRA"            "BBA"           </span></span>
<span><span class="co">## [37] "SOA"            "E"              "DP"             "FP"            </span></span>
<span><span class="co">## [41] "name"           "park"           "attendance"     "BPF"           </span></span>
<span><span class="co">## [45] "PPF"            "teamIDBR"       "teamIDlahman45" "teamIDretro"</span></span></code></pre></div>
<p>We are only going to use the observations from 1985 on, and a few
variables, so we filter and select them now. Keep only the levels of
<code>teamID</code> in the data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Teams</span> <span class="op">&lt;-</span> <span class="va">Teams</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">yearID</span>, <span class="va">lgID</span>, <span class="va">teamID</span>, <span class="va">name</span>, <span class="va">divID</span>, <span class="va">Rank</span>, <span class="va">WSWin</span>, <span class="va">attendance</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">yearID</span> <span class="op">&gt;=</span> <span class="fl">1985</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>teamID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels</a></span><span class="op">(</span><span class="va">teamID</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="va">Teams</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">##    yearID lgID teamID                name divID Rank WSWin attendance</span></span>
<span><span class="co">## 1    1999   NL    LAN Los Angeles Dodgers     W    3     N    3095346</span></span>
<span><span class="co">## 2    2016   AL    SEA    Seattle Mariners     W    2     N    2267928</span></span>
<span><span class="co">## 3    1988   NL    MON      Montreal Expos     E    3     N    1478659</span></span>
<span><span class="co">## 4    2010   NL    CIN     Cincinnati Reds     C    1     N    2060550</span></span>
<span><span class="co">## 5    1997   AL    DET      Detroit Tigers     E    3     N    1365157</span></span>
<span><span class="co">## 6    2023   AL    DET      Detroit Tigers     C    2     N    1612876</span></span>
<span><span class="co">## 7    2015   NL    PIT  Pittsburgh Pirates     C    2     N    2498596</span></span>
<span><span class="co">## 8    1995   AL    DET      Detroit Tigers     E    4     N    1180979</span></span>
<span><span class="co">## 9    1992   AL    BOS      Boston Red Sox     E    7     N    2468574</span></span>
<span><span class="co">## 10   2005   NL    ATL      Atlanta Braves     E    1     N    2521167</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-seriespost-data">The <code>SeriesPost</code> data<a class="anchor" aria-label="anchor" href="#the-seriespost-data"></a>
</h3>
<p>Post season records go back to 1884. There are 389 observations
covering all aspects of post-season play.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"SeriesPost"</span>, package<span class="op">=</span><span class="st">"Lahman"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">SeriesPost</span><span class="op">)</span></span>
<span><span class="co">## [1] "yearID"       "round"        "teamIDwinner" "lgIDwinner"   "teamIDloser" </span></span>
<span><span class="co">## [6] "lgIDloser"    "wins"         "losses"       "ties"</span></span></code></pre></div>
<p>For each year, there are number of observations for the various
levels of post-season play (Division titles, League titles, etc. A
number of these designations have changed over the years, and I don’t
know what they all mean.)</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">SeriesPost</span><span class="op">$</span><span class="va">round</span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## AEDIV  ALCS ALDS1 ALDS2  ALWC ALWC1 ALWC2 ALWC3 ALWC4 AWDIV    CS NEDIV  NLCS </span></span>
<span><span class="co">##     1    54    29    29     9     3     3     1     1     1     1     1    54 </span></span>
<span><span class="co">## NLDS1 NLDS2  NLWC NLWC1 NLWC2 NLWC3 NLWC4 NWDIV    WS </span></span>
<span><span class="co">##    29    29     9     3     3     1     1     1   126</span></span></code></pre></div>
<p>We are interested only in the World Series (<code>WS</code>), which
was first played in 1903. We filter for the years for which we have
salary data, and drop a couple of variables. The league IDs of the
winner and loser are factors, so we use <code>droplevels</code> to
include only the levels in recent history.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">WS</span> <span class="op">&lt;-</span> <span class="va">SeriesPost</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">yearID</span> <span class="op">&gt;=</span> <span class="fl">1985</span> <span class="op">&amp;</span> <span class="va">round</span> <span class="op">==</span> <span class="st">"WS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">ties</span>, <span class="op">-</span><span class="va">round</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lgIDloser <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels</a></span><span class="op">(</span><span class="va">lgIDloser</span><span class="op">)</span>,</span>
<span>         lgIDwinner <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels</a></span><span class="op">(</span><span class="va">lgIDwinner</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">WS</span><span class="op">)</span></span>
<span><span class="co">## [1] 38  7</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="va">WS</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">##   yearID teamIDwinner lgIDwinner teamIDloser lgIDloser wins losses</span></span>
<span><span class="co">## 1   1988          LAN         NL         OAK        AL    4      1</span></span>
<span><span class="co">## 2   2023          TEX         AL         ARI        NL    4      1</span></span>
<span><span class="co">## 3   2006          SLN         NL         DET        AL    4      1</span></span>
<span><span class="co">## 4   2005          CHA         AL         HOU        NL    4      0</span></span>
<span><span class="co">## 5   1987          MIN         AL         SLN        NL    4      3</span></span>
<span><span class="co">## 6   2016          CHN         NL         CLE        AL    4      3</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="a-first-look-at-salaries">A first look at <code>Salaries</code><a class="anchor" aria-label="anchor" href="#a-first-look-at-salaries"></a>
</h2>
<p>How many players do we have in each year?</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">$</span><span class="va">yearID</span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## 1985 1986 1987 1988 1989 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 </span></span>
<span><span class="co">##  550  738  627  663  711  867  685  769  923  884  986  931  925  998 1006  836 </span></span>
<span><span class="co">## 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 </span></span>
<span><span class="co">##  860  846  827  831  831  819  842  856  813  830  839  848  815  802  817  853</span></span></code></pre></div>
<p>What is the range of salaries, across all years?</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">$</span><span class="va">salary</span><span class="op">)</span></span>
<span><span class="co">## [1]        0 33000000</span></span></code></pre></div>
<p>And, year by year?</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Salaries</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">yearID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>min<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">salary</span><span class="op">)</span>,</span>
<span>            max<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">salary</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 32 × 3</span></span></span>
<span><span class="co">##    yearID    min     max</span></span>
<span><span class="co">##     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>   <span style="text-decoration: underline;">1</span>985  <span style="text-decoration: underline;">60</span>000 2<span style="text-decoration: underline;">130</span>300</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>   <span style="text-decoration: underline;">1</span>986  <span style="text-decoration: underline;">60</span>000 2<span style="text-decoration: underline;">800</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>   <span style="text-decoration: underline;">1</span>987  <span style="text-decoration: underline;">62</span>500 2<span style="text-decoration: underline;">127</span>333</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>   <span style="text-decoration: underline;">1</span>988  <span style="text-decoration: underline;">62</span>500 2<span style="text-decoration: underline;">340</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>   <span style="text-decoration: underline;">1</span>989  <span style="text-decoration: underline;">62</span>500 2<span style="text-decoration: underline;">766</span>667</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>   <span style="text-decoration: underline;">1</span>990 <span style="text-decoration: underline;">100</span>000 3<span style="text-decoration: underline;">200</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>   <span style="text-decoration: underline;">1</span>991 <span style="text-decoration: underline;">100</span>000 3<span style="text-decoration: underline;">800</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>   <span style="text-decoration: underline;">1</span>992 <span style="text-decoration: underline;">109</span>000 6<span style="text-decoration: underline;">100</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>   <span style="text-decoration: underline;">1</span>993      0 6<span style="text-decoration: underline;">200</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>   <span style="text-decoration: underline;">1</span>994  <span style="text-decoration: underline;">50</span>000 6<span style="text-decoration: underline;">300</span>000</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 22 more rows</span></span></span></code></pre></div>
<p>Hmm, there is a <code>salary==0</code> in 1993, maybe there are
others.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">$</span><span class="va">salary</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">## [1]  6180 12008</span></span></code></pre></div>
<p>Who are they? (We could also look up their <code>playerID</code>s in
<code><a href="../reference/People.html">Lahman::People</a></code>.)</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Salaries</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">$</span><span class="va">salary</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="co">##       yearID teamID lgID  playerID salary</span></span>
<span><span class="co">## 6180    1993    NYA   AL jamesdi01      0</span></span>
<span><span class="co">## 12008   1999    PIT   NL martija02      0</span></span></code></pre></div>
<p>These must be errors. Get rid of them. <strong>Reminder</strong>:
Check further; maybe file an <a href="https://github.com/cdalzell/Lahman/issues" class="external-link">issue</a> in the Lahman
package!</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Salaries</span> <span class="op">&lt;-</span> <span class="va">Salaries</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">salary</span> <span class="op">!=</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="get-team-payrolls">Get team payrolls<a class="anchor" aria-label="anchor" href="#get-team-payrolls"></a>
</h3>
<p>We want to sum the <code>salary</code> for each team for each year.
We might as well make it in millions. All those zeros hurt my eyes.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">payroll</span> <span class="op">&lt;-</span> <span class="va">Salaries</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">teamID</span>, <span class="va">yearID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>payroll <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">salary</span><span class="op">)</span><span class="op">/</span><span class="fl">1000000</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">payroll</span><span class="op">)</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   teamID [1]</span></span></span>
<span><span class="co">##   teamID yearID payroll</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> ANA      <span style="text-decoration: underline;">1</span>997    31.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> ANA      <span style="text-decoration: underline;">1</span>998    41.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> ANA      <span style="text-decoration: underline;">1</span>999    55.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> ANA      <span style="text-decoration: underline;">2</span>000    51.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> ANA      <span style="text-decoration: underline;">2</span>001    47.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> ANA      <span style="text-decoration: underline;">2</span>002    61.7</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="merge-team-names-into-payroll">Merge team names into <code>payroll</code><a class="anchor" aria-label="anchor" href="#merge-team-names-into-payroll"></a>
</h3>
<p>It will be more convenient to have the team names included in the
<code>payroll</code> data.frame. The <code>Teams</code> data frame also
contains the <code>Y/N</code> indicator <code>WSWin</code> for World
Series winners, so we might as well include this too.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">payroll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">payroll</span>, <span class="va">Teams</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yearID"</span>, <span class="st">"teamID"</span>,<span class="st">"name"</span>, <span class="st">"WSWin"</span><span class="op">)</span><span class="op">]</span>, </span>
<span>                 by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yearID"</span>, <span class="st">"teamID"</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="va">payroll</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">##    yearID teamID payroll                          name WSWin</span></span>
<span><span class="co">## 1    2006    MIN   63.40               Minnesota Twins     N</span></span>
<span><span class="co">## 2    2007    MIL   70.99             Milwaukee Brewers     N</span></span>
<span><span class="co">## 3    2016    LAA  137.25 Los Angeles Angels of Anaheim     N</span></span>
<span><span class="co">## 4    2005    OAK   55.43             Oakland Athletics     N</span></span>
<span><span class="co">## 5    2003    FLO   49.45               Florida Marlins     Y</span></span>
<span><span class="co">## 6    2009    COL   75.20              Colorado Rockies     N</span></span>
<span><span class="co">## 7    2000    MIL   36.51             Milwaukee Brewers     N</span></span>
<span><span class="co">## 8    1999    ANA   55.39                Anaheim Angels     N</span></span>
<span><span class="co">## 9    2013    NYA  231.98              New York Yankees     N</span></span>
<span><span class="co">## 10   1989    CAL   15.10             California Angels     N</span></span></code></pre></div>
<p>Note that we could also do this using <code>left_join</code> in the
<code>dplyr</code> package. There is probably a more <code>tidy</code>
way to subset the variables from the <code>Teams</code> data set than
using <code>Teams[, c()]</code>, but, hey– this works.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">payroll</span>, <span class="va">Teams</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yearID"</span>, <span class="st">"teamID"</span>,<span class="st">"name"</span>, <span class="st">"WSWin"</span><span class="op">)</span><span class="op">]</span>, </span>
<span>          by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yearID"</span>, <span class="st">"teamID"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p><code>WSWin</code> is a character variable. Convert it to a
factor.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">payroll</span> <span class="op">&lt;-</span> <span class="va">payroll</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>WSWin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">WSWin</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Check the values:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">payroll</span><span class="op">$</span><span class="va">WSWin</span>, useNA<span class="op">=</span><span class="st">"ifany"</span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##    N    Y &lt;NA&gt; </span></span>
<span><span class="co">##  859   31   28</span></span></code></pre></div>
<p>There is something wrong here! There shouldn’t be any
<code>NA</code>s. We leave this for further study, and another
<strong>Reminder</strong> to file an issue if we figure out what the
problem is.</p>
</div>
</div>
<div class="section level2">
<h2 id="boxplots-of-payroll">Boxplots of payroll<a class="anchor" aria-label="anchor" href="#boxplots-of-payroll"></a>
</h2>
<p>Let’s look at the distributions of payroll by year. The observations
are teams.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot</a></span><span class="op">(</span><span class="va">payroll</span> <span class="op">~</span> <span class="va">yearID</span>, data<span class="op">=</span><span class="va">payroll</span>, ylab<span class="op">=</span><span class="st">"Payroll ($ millions)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="payroll_files/figure-html/payroll-boxplot-1.png" width="672">
What are the outliers? Are there any teams that crop up repeatedly?
<code><a href="https://rdrr.io/pkg/car/man/Boxplot.html" class="external-link">car::Boxplot</a></code> makes this easy, and also returns the labels
of the outliers. We don’t load the <code>car</code> package, because
<code>car</code> also contains a <code>Salary</code> dataset.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/Boxplot.html" class="external-link">Boxplot</a></span><span class="op">(</span><span class="va">payroll</span> <span class="op">~</span> <span class="va">yearID</span>, data<span class="op">=</span><span class="va">payroll</span>,</span>
<span>             id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">1</span>, </span>
<span>                     labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">payroll</span><span class="op">$</span><span class="va">teamID</span><span class="op">)</span><span class="op">)</span>, </span>
<span>             ylab<span class="op">=</span><span class="st">"Payroll ($ millions)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="payroll_files/figure-html/payroll-Boxplot-1.png" width="672"></p>
<p>Most of the outliers are the New York Yankees (<code>NYA</code>):</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="co">## out</span></span>
<span><span class="co">## CLE LAN MON NYA PIT SEA </span></span>
<span><span class="co">##   1   2   1  11   1   1</span></span></code></pre></div>
<p>Payroll has obviously increased dramatically over time. So has the
variability across teams. For any modelling, we would probably want to
use <code>\log(payroll)</code>. We might also want to look separately at
the American and National leagues.</p>
<div class="section level3">
<h3 id="correcting-for-inflation">Correcting for inflation<a class="anchor" aria-label="anchor" href="#correcting-for-inflation"></a>
</h3>
<p>For proper comparisons, we should correct for inflation. Lets do this
by scaling salary back to 1985 dollars, The data below gives inflation
rates for all subsequent years. It comes from Nolan &amp; Lang, extended
to 2015 using (<a href="https://www.in2013dollars.com/" class="external-link uri">https://www.in2013dollars.com/</a>).</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inflation</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,    <span class="fl">1.02</span>, <span class="fl">1.06</span>, <span class="fl">1.10</span>, <span class="fl">1.15</span>, <span class="fl">1.21</span>, </span>
<span>              <span class="fl">1.27</span>, <span class="fl">1.30</span>, <span class="fl">1.34</span>, <span class="fl">1.38</span>, <span class="fl">1.42</span>, <span class="fl">1.46</span>, <span class="fl">1.49</span>, <span class="fl">1.51</span>, <span class="fl">1.55</span>, <span class="fl">1.60</span>,</span>
<span>              <span class="fl">1.65</span>, <span class="fl">1.67</span>, <span class="fl">1.71</span>, <span class="fl">1.76</span>, <span class="fl">1.82</span>, <span class="fl">1.87</span>, <span class="fl">1.93</span>, <span class="fl">2.00</span>, <span class="fl">1.99</span>, <span class="fl">2.03</span>,</span>
<span>              <span class="fl">2.09</span>, <span class="fl">2.13</span>, <span class="fl">2.16</span>, <span class="fl">2.20</span>, <span class="fl">2.20</span> <span class="op">)</span></span>
<span></span>
<span><span class="va">inflation.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">1985</span><span class="op">:</span><span class="fl">2015</span>, <span class="va">inflation</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot inflation rate</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">inflation.df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">inflation</span>, x<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method<span class="op">=</span><span class="st">"lm"</span><span class="op">)</span></span></code></pre></div>
<p><img src="payroll_files/figure-html/unnamed-chunk-10-1.png" width="480"></p>
<p>This is close enough to linear, that we could use the linear
regression predicted value as a simple computation of the inflation
rate. (A better way, of course, would be to use the actual inflation
rate; this would entail merging <code>payroll</code> with
<code>inflation.df</code> by year, and doing the computation.)</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">infl.lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">inflation</span> <span class="op">~</span> <span class="va">year</span>, data<span class="op">=</span><span class="va">inflation.df</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">coefs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">infl.lm</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## (Intercept)        year </span></span>
<span><span class="co">##   -81.57032     0.04159</span></span></code></pre></div>
<p>Scale <code>payroll</code> by dividing by linear prediction of
inflation rate, producing <code>payrollStd</code>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">payroll</span> <span class="op">&lt;-</span> <span class="va">payroll</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>payrollStd <span class="op">=</span> <span class="va">payroll</span> <span class="op">/</span> <span class="op">(</span><span class="va">coefs</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="va">coefs</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">*</span> <span class="va">yearID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Boxplot again, of inflation-adjusted payroll. The increase after 2000
doesn’t seem so large.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/Boxplot.html" class="external-link">Boxplot</a></span><span class="op">(</span><span class="va">payrollStd</span> <span class="op">~</span> <span class="va">yearID</span>, data<span class="op">=</span><span class="va">payroll</span>,</span>
<span>             id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">payroll</span><span class="op">$</span><span class="va">teamID</span><span class="op">)</span><span class="op">)</span>, </span>
<span>             ylab<span class="op">=</span><span class="st">"Payroll (1985-adjusted $ millions)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="payroll_files/figure-html/payroll-Boxplot2-1.png" width="672"></p>
<pre><code><span><span class="co">##  [1] "SEA" "CLE" "MON" "PIT" "NYA" "NYA" "NYA" "NYA" "NYA" "NYA" "NYA" "NYA"</span></span>
<span><span class="co">## [13] "NYA" "NYA" "LAN" "NYA" "LAN" "NYA" "BOS" "DET" "LAN" "NYA"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="salaries-of-world-series-winning-teams">Salaries of World Series winning teams<a class="anchor" aria-label="anchor" href="#salaries-of-world-series-winning-teams"></a>
</h2>
<p>To what extent are the World Series winners those among the highest
in payroll? A simple way to look at this is to plot the team payrolls
across years, and mark the World Series winner for each year.</p>
<p>This plot shows inflation-adjusted payroll on a log scale to avoid
the dominating influence of the most recent years. We jitter the points
to avoid overplotting, and use a transparent gray color for the
non-winners, red for the winner in each year.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">payroll</span><span class="op">$</span><span class="va">WSWin</span><span class="op">==</span><span class="st">'Y'</span>, <span class="st">"red"</span>, <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">gray</a></span><span class="op">(</span><span class="fl">.7</span>, alpha<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">payroll</span>, <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">payrollStd</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/jitter.html" class="external-link">jitter</a></span><span class="op">(</span><span class="va">yearID</span>, <span class="fl">0.5</span><span class="op">)</span>, </span>
<span>       ylab <span class="op">=</span> <span class="st">"Payroll (inflation-adjusted $ millions)"</span>,</span>
<span>       ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">125</span><span class="op">)</span>, log <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>       xlab <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>       pch <span class="op">=</span> <span class="fl">19</span>, cex <span class="op">=</span> <span class="fl">0.8</span>, col <span class="op">=</span> <span class="va">Cols</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">payroll</span><span class="op">[</span><span class="va">payroll</span><span class="op">$</span><span class="va">WSWin</span> <span class="op">==</span> <span class="st">'Y'</span>,<span class="op">]</span>,</span>
<span>     <span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">payrollStd</span>, x <span class="op">=</span> <span class="va">yearID</span>, labels <span class="op">=</span> <span class="va">teamID</span>, pos <span class="op">=</span> <span class="fl">3</span>, cex <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<p><img src="payroll_files/figure-html/payroll-winners-plot-1.png" width="672"></p>
<p>By and large, the World Series winners tend to be in the upper
portion of the payrolls for each year.</p>
</div>
<div class="section level2">
<h2 id="further-analyses-your-turn">Further analyses: Your turn<a class="anchor" aria-label="anchor" href="#further-analyses-your-turn"></a>
</h2>
<p>Here are some questions to provoke further analyses of these data
sets. If you find something interesting, post it in a <a href="https://gist.github.com/" class="external-link">Github Gist</a> or forward it to Team
Lahman as in a <a href="https://github.com/cdalzell/Lahman/issues" class="external-link">Lahman issue</a>.</p>
<ul>
<li><p>Our boxplots used total payroll in millions. Would the plots be
clearer if we plotted payroll on a log scale?</p></li>
<li><p>Follow-up the suggestion to fit a linear model predicting
<code>log(payroll)</code> from some of the available
predictors.</p></li>
<li><p>Examine the trend of team salaries over time for World Series
losers. Does it look the same or different than that for the winning
teams?</p></li>
<li><p>What kind of analysis would you do to address this statement:
“For teams that make it to the World series, the one with the larger
payroll is more likely to win.”</p></li>
<li><p>Is there any relationship between the number of team wins in a
season and winning the World series?</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Friendly, Chris Dalzell, Martin Monkman, Dennis Murphy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
